<UserControl
    x:Class="NativeDiscord.Controls.AttachmentControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:NativeDiscord.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="using:NativeDiscord.Models"
    mc:Ignorable="d">

    <Grid CornerRadius="8" Margin="0,4,0,0" HorizontalAlignment="Left">
        <!-- Image Attachment -->
        <Border CornerRadius="8" MaxWidth="400" MaxHeight="400" Margin="0">
            <Image x:Name="ImageControl"
                   Source="{x:Bind Attachment.Url, Mode=OneWay}" 
                   Stretch="Uniform" 
                   Visibility="{x:Bind ImageVisibility, Mode=OneWay}"/>
        </Border>
               
        <!-- Fallback for non-images -->
        <Border Background="#2B2D31" CornerRadius="8" BorderBrush="#1E1F22" BorderThickness="1" Visibility="{x:Bind FileVisibility, Mode=OneWay}">
            <StackPanel Orientation="Horizontal" Spacing="8" Padding="12">
                 <FontIcon Glyph="&#xE8A5;" Foreground="#B5BAC1" FontSize="24"/> <!-- File Icon -->
                 <StackPanel>
                     <TextBlock Text="{x:Bind Attachment.Filename, Mode=OneWay}" Foreground="#00A8FC" FontWeight="SemiBold"/>
                     <TextBlock Text="Attachment" Foreground="#949BA4" FontSize="12"/>
                 </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
